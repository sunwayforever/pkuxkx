#class hubiao open
load chaos;

#var hb_first_kill 0;
#var hb_wait 0;
#var hb_paused 0;
#var hb_hb_force_wait 0;
#var hb_start_time 0;
#var hb_end_time 0;
#var hb_paused 0;
#var hb_auto 0;

#alias {hb.teardown} {
	#class hb_setup_inner kill;
	#class clear_npc.inner kill;
	#unticker {kill_npc};
	#alias ge {\east};
	#alias genter {\enter};
	#alias geu {\eastup};
	#alias gn {\north};
	#alias gne {\northeast};
	#alias gnu {\northup};
	#alias gnw {\northwest};
	#alias gout {\out};
	#alias gs {\south};
	#alias gse {\southeast};
	#alias gsu {\southup};
	#alias gsw {\southwest};
	#alias gw {\west};
	#alias gwu {\westup};
	#alias ged {\eastdown};
	#alias gnd {\northdown};
	#alias gwd {\westdown};
	#alias gsd {\southdown};
	#alias gd {\down};
	#alias gu {\up};
	#alias {attack} {
		attack.normal;
	};
};

#alias {hb.move} {
	#if {${qx_percent} < 50 || ${js_percent} < 50 || ${nl_percent} < 20} {
		#unticker {hb_walk};
		#delay {hb_move} {
			show_to_info ÆøÑª»ò¾«Éñ¹ıµÍ,ÍÆ³µÔİÍ£;
			notify escort paused;
			on_truce {
				on_health {hb.move};
			};
		} {3};
	};
	#else {
		#math hb_path_index ${hb_path_index}+1;
		#if {${hb_path_index} > ${hb_path_size}} {
			#delay {hb_move} {
				hb.pause;
				#format {hb_end_time} {%t} {%T};
				show_to_info µ½´ï: ${hb_start_time} -> ${hb_end_time};
				notify.alert escort arrived;
				xmpp.notify µ½´ï, Ã»ÕÒµ½ÊÕ»õÈË;
			} {3};
		};
		#else {
			#if {${eff_qx_percent} < 95} {
				#2 yun heal;
			};
			#if {${eff_qx_percent} < 50} {
				#2 yun lifeheal;
			};
			#list hb_path get ${hb_path_index} hb_next_step;
			#delay {hb_move} {
				#if {${hb_force_wait} == 0 && ${hb_paused} == 0 && ${hb_wait} == 0} {
					on_echo {
						${hb_next_step};
					};
				};
				#ticker {hb_walk} {
					#if {${hb_force_wait} == 0 && ${hb_paused} == 0 && ${hb_wait} == 0} {
						on_echo {
							${hb_next_step};
						};
					};
				} {5};
			} {3};
		};
	};
};

#alias {hb.setup} {
	clear_npc {É½Ôô};
	clear_npc {¶ÀÀÇ};
	clear_npc {Ãí×£};
	clear_npc {ÀîÌú×ì};
	clear_npc {µØÆ¦};
	clear_npc {Ğ¡Á÷Ã¥};
	clear_npc {Á÷Ã¥Í·};
	clear_npc {´ä»¨};
	clear_npc {Á÷Ã¥};

	#class hb_setup_inner open;
	#action {ïÚ³µºôÀ²Ò»ÉùÉ¢ÁË¼Ü} {
		hb.pause;
		show_to_tuiche ïÚ³µºôÀ²Ò»ÉùÉ¢ÁË¼Ü;
	};

	#alias {chan} {
		chan_robber;
	};

	#action {chaos.remember: done} {
		hb.move;
	};

	#action {^Äã¸Ï×ÅïÚ³µÊ»ÁË¹ıÀ´¡£$} {
		#unticker {hb_walk};
		#if {${hb_paused} == 0} {
			#if {@getenv{mixin_lunci} == 5} {
				hb.move;
			};
			#else {
				chaos.remember;
			};
		};
	};

	#action {½Ù·Ë¸öÆğ×İ¶İÈë°µÀï²»¼ûÁË} {
		hb.detect_enemy;
		#var hb_wait 0;
		raw;
	};

	#action {^Õâ¸ö·½Ïò} {
		#if {${hb_paused} == 0} {
			hb.pause;
			show_to_info Â·¾¶³ö´í;
			xmpp.notify Â·¾¶³ö´í;
		};
	};
	
	#action {½Ù·Ë³ÃÄã²»×¢Òâ£¬ÍÆ×ÅïÚ³µ¾ÍÅÜ£¬Äã¸Ï½ô×·ÁËÉÏÈ¥¡£} {
		hb.pause;
		@setenv{mixin_lunci;6};
		#delay {hb_delay} {
			hb.recover;
		} {3};
	};

	#action {½Ù·ËÉìÊÖÒ»À¹µÀ} {
		war;
		hb.wait;
	};

	#action {Äã³¤Ğ¦Ò»Éù£¬¿ªÊ¼¶ÔÖÜÎ§ÖÚÈËÍ´ÏÂÉ±ÊÖ£¡} {
		#var hb_first_kill 1;
	};
	
	#action {½Ù·ËÍ»È»´Ó°µ´¦ÌøÁË³öÀ´} {
		hb.detect_enemy;
		hb.wait;
		#if {${hb_first_kill} == 0} {
			killall robber;
		};
		#else {
			war;
		};
	};

	#action {Î§ÉÏÀ´¼¸¸ö»ï¼Æ½«ïÚ³µÀ­ÁË½øÈ¥} {
		@setenv{hb_state;ENDED};
		hb.end;
		raw;
		#format {hb_end_time} {%t} {%T};
		show_to_tuiche ÈÎÎñÍê³É: ${hb_start_time} -> ${hb_end_time};
		notify escort done;
		hb.teardown;
		#delay {5} {
			hb.back;			
		};
	} {1};

	#class hb_setup_inner close;
	
	#alias ge {gan che to east};
	#alias genter {gan che to enter};
	#alias geu {gan che to eastup};
	#alias gn {gan che to north};
	#alias gne {gan che to northeast};
	#alias gnu {gan che to northup};
	#alias gnw {gan che to northwest};
	#alias gout {gan che to out};
	#alias gs {gan che to south};
	#alias gse {gan che to southeast};
	#alias gsu {gan che to southup};
	#alias gsw {gan che to southwest};
	#alias gw {gan che to west};
	#alias gwu {gan che to westup};
	#alias ged {gan che to eastdown};
	#alias gnd {gan che to northdown};
	#alias gwd {gan che to westdown};
	#alias gsd {gan che to southdown};
	#alias gd {gan che to down};
	#alias gu {gan che to up};

	#alias {attack} {
		attack.hubiao;
	};		
};

#alias {hb.wait} {
	#var hb_wait 1;
	#delay {hb_wait} {
		#var hb_wait 0;
	} {8};
};

#alias {hb.pause} {
	hb.end;
	#alias {hb.back} {
		#cr;
	};
};

#alias {hb.end} {
	#var hb_paused 1;
	#var hb_force_wait 1;
	#unticker {hb_walk};
	#undelay {hb_move};
	#math hb_path_index ${hb_path_index}-1;
};

#alias {hb.duobi} {
	#math hb_path_index ${hb_path_index}+1;
	#if {${hb_path_index} > ${hb_path_size}} {
		on_truce {
			hb.resume;
		};
	};
	#else {
		#action {²»ÄÜÒÆ¶¯} {
			#unaction {²»ÄÜÒÆ¶¯};
			#showme ÄãÌÓÅÜÊ§°Ü;
		};
		
		#action {^ÄãÌÓÅÜÊ§°Ü} {
			#unaction {^ÄãÌÓÅÜÊ§°Ü};
			#undelay {hb_delay};
			#math hb_path_index ${hb_path_index}-1;
			on_truce {
				#delay {hb_delay} {
					hb.resume;
				} {5};
			};
		};
		#list hb_path get ${hb_path_index} duobi_exit;
		#5 halt;
		#delay {1} {
			#showme duobi: ${duobi_exit};
			${duobi_exit};
		};
		#delay {hb_delay} {
			#unaction {^ÄãÌÓÅÜÊ§°Ü};
			#unaction {²»ÄÜÒÆ¶¯};
			#class truce.inner kill;
			hb.resume;
		} {5};
	};
};

#alias {hb.resume} {
	#var hb_paused 0;
	#var hb_force_wait 0;

	#alias {hb.back} {
		hb.merge_path;
		#nop hb.duobi;
		on_truce {
			hb.resume;
		};
	};

	#if {"@getenv{hb_state}" == "STARTED"} {
		chaos.remember;
	};
	#else {
		#math hb_path_index ${hb_path_index}+1;
		#list hb_path get ${hb_path_index} hb_next_step;
		
		#action {get_exits_done} {
			#math hb_path_index ${hb_path_index}+1;
			#list hb_path get ${hb_path_index} hb_next_step;
		};
		#alias {l} {#cr};
		
		#ticker {hb_walk} {
			#if {${hb_path_index} > ${hb_path_size}} {
				#unaction {get_exits_done};
				#unalias {l};
				hb.pause;
				#delay {5} {
					#if {@getenv{hb_lunci} == @getenv{mixin_lunci}} {
						chain on_sell get.san on_repair gem.combine hb.b;
					};
					#else {
						hb.b;	
					};
				};
			};
			#else {
				on_echo {
					${hb_next_step};
				};
			};
		} {1.8};
	}
};

#alias {hb.get_owner} {
	#if {"${CurrentPosition}" == "zuo"} {
		#var hb_owner zuo;
	};
	#elseif {"${CurrentPosition}" == "zz"} {
		#var hb_owner zhang;
	};
	#elseif {"${CurrentPosition}" == "fm"} {
		#var hb_owner ma;
	};
	#elseif {"${CurrentPosition}" == "fh"} {
		#var hb_owner chu;
	};
	#elseif {"${CurrentPosition}" == "tf"} {
		#var hb_owner wang;
	};
};

#alias {hb.d} {
	hb.get_owner;
	#if {"@getenv{hb_state}" == "GOT_CAIWU"} {
		give cai wu to ${hb_owner};
	};
	#else {
		#if {@getenv{hb_lunci} == @getenv{mixin_lunci}} {
			@setenv{hb_lunci;0};
			notify.alert next mixin;
			xmpp.notify next mixin;
			play alert.wav;
		};
		#else {
			ask ${hb_owner} about finish;			
		};
	};
};

#alias {hb.q} {
	hb.get_owner;
	#if {"%1" != ""} {
		getesc %1;
	};
	#else {
		listesc;
	}
};


#alias {hb.f} {
	@setenv{hb_lunci;0};
	@setenv{hb_lunci_total;0};
	@setenv{hb_state;NIL};
	@setenv{mixin_lunci;6};
	hb.teardown;
	hb.get_owner;
	ask ${hb_owner} about fail;
};

#alias {hb.b} {
	#if {"${hb_owner}" == "zuo"} {
		gt zuo;
	};
	#elseif {"${hb_owner}" == "zhang"} {
		gt zz;
	};
	#elseif {"${hb_owner}" == "ma"} {
		gt fm;
	};
	#elseif {"${hb_owner}" == "wang"} {
		gt tf;
	};

	on_there {
		on_unbusy {
			hb.d;
		};
	};
};

#alias {hb.bxs} {
	#class hb.auto.inner open;
	#action {${char_name}°ÑÕâÅúºì»õËÍµ½%*ËûÒÑ¾­ÅÉÁË¸ö»ï¼ÆÃû½Ğ%*µ½%*¸½½ü½ÓÄã} {
		hb.get_path %%1;
		show_to_quest ÍÆ³µ: ${tmp}|%%2|%%3;
		hb.setup;
		hb.resume;
	} {1};
	#class hb.auto.inner close;
	hb.get_owner;
	ask ${hb_owner} about ÑºïÚ;
};

#alias {hb.start} {
	set brief 2;
	#var hb_auto 1;
	#var getesc_current_score 0;
	#var getesc_current_id 0;

	#if {${char_nl_recovery} > 40} {
		#var max_dz 90;
	};
	
	#class hb.auto.inner open;
	#action {^Äã²»ÊÇ²ÅÒªÁËÈÎÎñÂğ} {
		hb.f;
		on_unbusy {
			hb.start;
		};
	};
	
	#action {ÄãÒ»¹²±»½±ÀøÁË£º} {
		#class tmp.inner open;
		#action {%*µã¾­Ñé£»} {
			#class tmp.inner kill;
			show_to_info @ctd{%%%1} µã¾­Ñé;
		};
		#delay {hb_auto_delay} {
			#if {${hb_auto} == 1} {
				hb.start;
			};
		} {3};
		#class tmp.inner close;
	};

	#action {${char_name}°ï%*×·»Ø²ÆÎï£¬¶îÍâ»ñµÃ%*µã¾­Ñé} {
		show_to_info ¶îÍâ»ñµÃ @ctd{%%2} µã¾­Ñé;
	};

	#alias {got_gem} {
		#action {Äã½«ÊÖÖĞ%*{¡ò|¡î|¡ï}%*·Å½øÁË±¦Ê¯´ü} {
			show_to_info µô±¦: %%%1%%%2%%%3;
			notify.info %%%1%%%2%%%3;
			gem.record %%%1%%%2%%%3;
			#var gem_level @gemlevel{%%%1};
			#if {${gem_level} > 3} {
				play gem2.wav;
				xmpp.notify µô±¦: %%%1%%%2%%%3;
			};
			#else {
				play gem.wav;	
			};
		};
		pack gem;
		#delay {pack_gem} {
			#unaction {Äã½«ÊÖÖĞ%*{¡ò|¡î|¡ï}%*·Å½øÁË±¦Ê¯´ü};
		} {3};
	};
	
	#action {ÍÛ£¬ÄãÌ«À÷º¦ÁË£¬ÕâÃ´¿ì¾Í°ÑÕâĞ©²ÆÎï×·»Ø£¬ÎÒÓĞÖØĞ»£¡} {
		got_gem;
	};
	
	#action {µôÁË³öÀ´Ò»¿Å} {
		got_gem;
	};
	
	#action {´Ó½Ù·ËÉíÉÏµôÁË³öÀ´Ò»%*Ö®%*} {
		jianding @mapget{jianding;%%2}
	};

	#action {^ÄãÅõ×Å%*Ö®%*ÉÏÉÏÏÂÏÂ×Ğ×ĞÏ¸Ï¸µÄ´òÁ¿ÁËÒ»±é¡£} {
		#action {¿ÉËÜĞÔ:%*(%*)} {
			#unaction {¿ÉËÜĞÔ:%*(%*)};
			#var kong %%%1;
			#var type @mapget{jianding;%%2};
			#if {"${type}" == "ring" || "${type}" == "necklace"} {
				#if {${kong} > 1} {
					put ${type} in bao;	
				};
			};
			#else {
				#if {${kong} > 2} {
					put ${type} in bao;	
				};
			};
		};
		#action {Äã½«Ò»%*Ö®%*·Å½ø°ü¸¤} {
			#unaction {Äã½«Ò»%*Ö®%*·Å½ø°ü¸¤};
			show_to_info µô×°±¸: ${kong} ¿× ${type};
			notify.alert µô×°±¸: ${kong} ¿× ${type};
			xmpp.notify µô×°±¸: ${kong} ¿× ${type};
		};
	};

	#action {¿´À´¸ÃÕÒ»ú»áÌÓÅÜÁË} {
		hb.pause;
		show_to_tuiche ¶ªïÚ;
		xmpp.notify ¶ªïÚ;
	};

	#action {^ÂıÂıµØÄãÖÕÓÚÓÖÓĞÁËÖª¾õ....} {
		show_to_tuiche ¹ÒÁË;
		notify.alert ¹ÒÁË; 
		xmpp.notify ¹ÒÁË;
	};
	
	#action {ÄãµÄÑÛÇ°Ò»ºÚ£¬½ÓÖøÊ²Ã´Ò²²»ÖªµÀÁË} {
		hb.pause;
	};

	#action {Ê¹ÓÃÃüÁî¡¾getesc ÈÎÎñĞòºÅ¡¿À´ÈÏÁìÑºïÚÈÎÎñ¡£} {
		#buffer lock;
	};
	
	#action {%d%s%S%s%S%s´ıÈÏÁì} {
		#var getesc_id %%1;
		#var getesc_address %%3;
		#var score @getesc_get_score{${getesc_address}};
		#if {${score} > ${getesc_current_score}} {
			#var getesc_current_score $score;
			#var getesc_current_id ${getesc_id};
		};
	};

	#action {À´ÈÏÁìÑºïÚÈÎÎñ} {
		#if {${getesc_current_id} != 0} {
			hb.q ${getesc_current_id};
		};
		#else {
			#delay {hb_auto_delay} {
				hb.start;
			} {10};
		};
	};

	#action {ÇëÑ¡ÔñÆäËûÈÎÎñ} {
		#delay {hb_auto_delay} {
			#var getesc_current_score 0;
			#var getesc_current_id 0;
			hb.q;
		} {2};
	};

	#action {ÄãÉÏ´ÎÔËïÚÌ«ĞÁ¿àÁË} {
		#delay {hb_auto_delay} {
			hb.q;
		} {10};
	};

	#action {ÄãËùÁìµÄÈÎÎñÔÚÈÎÎñÁĞ±íÖĞ²¢²»´æÔÚ} {
		#delay {hb_auto_delay} {
			hb.q;
		} {2};
	};
	
	#action {${char_name}°ÑÕâÅúºì»õËÍµ½%*ËûÒÑ¾­ÅÉÁË¸ö»ï¼ÆÃû½Ğ%*µ½%*¸½½ü½ÓÄã} {
		hb.get_path %%1;

		@setenv{hb_state;STARTED};
		@setenv{hb_lunci;@eval{@getenv{hb_lunci}+1}};
		#format {hb_start_time} {%t} {%T};
		
		show_to_tuiche ${tmp}|%%2|%%3;
		pp %%2;
		notify escort start;

		hb.setup;
		hb.resume;
	} {1};

	#action {µİ¸øÄãÒ»·âÃÜĞÅ} {
		@setenv{hb_state;GOT_MIXIN};
		@setenv{hb_lunci_total;@eval{@getenv{hb_lunci_total}+1}};
		@setenv{hb_lunci;0};
		show_to_tuiche ÃÜĞÅ;
		notify.alert ÃÜĞÅ;
		xmpp.notify ÃÜĞÅ;
		play alert.wav;
		chifan;
		mx.o;
	};

	#class hb.auto.inner close;

	@declarenv{hb_state;NIL};
	@declarenv{mixin_lunci;6};
	
	#if {"@getenv{hb_state}" == "GOT_CAIWU"} {
		show_to_info ½»²ÆÎïÏÈ;
	};
	#if {"@getenv{hb_state}" == "GOT_MIXIN"} {
		show_to_info ÃÜĞÅ;
	};
	#elseif {"@getenv{hb_state}" == "STARTED"} {
		hb.f;
	};
	#else {
		#math next_lunci @getenv{hb_lunci}+1;
		show_to_quest ÍÆ³µ: @getenv{hb_lunci_total}+${next_lunci}: ×¼±¸;
		on_health {hb.q};		
	};
};

#function {getesc_get_score} {
	#if {"${hb_owner}" == "zhang"} {
		#if {"%1" == "È«ÕæÌì×ğ½²¾­ÌÃ"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return 1;	
			};
		};
		#elseif {"%1" == "ÂåÑôËÄº£Ç®×¯"} {
			#return -1;
		};
		#elseif {"%1" == "³¤°²·ÉÂíïÚ¾Ö"} {
			#return 1;
		};
		#elseif {"%1" == "Çú¸·¿×¸®"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return 1;
			};
		};
		#elseif {"%1" == "Îäµ±ÈıÇåµî"} {
			#return -1;
		};
		#elseif {"%1" == "»ªÉ½±ğÔº"} {
			#return 5;
		};
		#elseif {"%1" == "»ªÉ½´åÌú½³ÆÌ"} {
			#return 3;
		};
		#elseif {"%1" == "ÉÙÁÖ·ğĞÄ¾®"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return 2;
			};
		};
		#elseif {"%1" == "ÑïÖİ×íÏÉÂ¥"} {
			#if {"${char_menpai}" == "gaibang"} {
				#return -1;
			};
			#elseif {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return 4;	
			};
		};
		#elseif {"%1" == "ÏåÑôµ±ÆÌ"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return -1;				
			};
		};
		#else {
			#return -1;
		};
	};
	#elseif {"${hb_owner}" == "zuo"} {
		#if {"%1" == "ÔÀÍõÄ¹Ä¹Ç°¹ã³¡"} {
			#return -1;
		};
		#elseif {"%1" == "ÈªÖİµ±ÆÌ"} {
			#return 6;
		};
		#elseif {"%1" == "ËÕÖİ¾Û±¦Õ«"} {
			#return -1;
		};
		#elseif {"%1" == "¸£Öİ¸£ÍşïÚ¾Ö"} {
			#return 5;
		};
		#elseif {"%1" == "ÄÏ²ı·É»¢ïÚ¾Ö"} {
			#return 4;
		};
		#elseif {"%1" == "º¼Öİ½­ÄÏÇ®×¯"} {
			#return -1;
		};
		#elseif {"%1" == "ÔÀÑô³µÂíĞĞ"} {
			#return 4;
		};
		#elseif {"%1" == "¹éÔÆ×¯Ì«ºş½Ö"} {
			#return -1;
		};
		#elseif {"%1" == "ÑÀÉ½Ğ¡»ÄµØ"} {
			#return 4;
		};
		#elseif {"%1" == "Õò½­·ÉÁúïÚ¾Ö"} {
			#return 3;
		};
		#elseif {"%1" == "ÑïÖİ×íÏÉÂ¥"} {
			#if {"${char_menpai}" == "gaibang"} {
				#return -1;
			};
			#else {
				#return 5;	
			};
		};
		#else {
			#return -1;
		};
	};
	#elseif {"${hb_owner}" == "ma"} {
		#if {"%1" == "»ªÉ½´åÌú½³ÆÌ"} {
			#return 6;
		};
		#if {"%1" == "»ªÉ½±ğÔº"} {
			#return 7;
		};
		#elseif {"%1" == "½úÑôÏô¸®"} {
			#return 4;
		};
		#elseif {"%1" == "³É¶¼µ±ÆÌ"} {
			#return -1;
		};
		#elseif {"%1" == "ÔŞÆÕÀ´¸£ÔÓ»õ"} {
			#return -1;
		};
		#elseif {"%1" == "ÂåÑôËÄº£Ç®×¯"} {
			#return -1;
		};
		#elseif {"%1" == "³¤°²µ±ÆÌ"} {
			#return -1;
		};
		#elseif {"%1" == "ÏåÑôµ±ÆÌ"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return -1;
			};
		};
		#elseif {"%1" == "Îäµ±¾£Î÷ïÚ¾Ö"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return -1;
			};
		};
		#elseif {"%1" == "È«ÕæÌì×ğ½²¾­ÌÃ"} {
			#return -1;
		};
		#elseif {"%1" == "ÁéÖİ¾Æ¹İ"} {
			#if {"${char_menpai}" == "gaibang"} {
				#return -1;
			};
			#else {
				#return 5;
			};
		};
		#else {
			#return -1;
		};
	};
	#elseif {"${hb_owner}" == "chu"} {
		#if {"%1" == "»ªÉ½´åÌú½³ÆÌ"} {
			#return 4;
		};
		#elseif {"%1" == "Îäµ±¾£Î÷ïÚ¾Ö"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return -1;
			};
		};
		#elseif {"%1" == "Çú¸·¿×¸®"} {
			#return 3;
		};
		#elseif {"%1" == "½úÑôÏô¸®"} {
			#return 1;
		};
		#else {
			#return -1;
		};
	};
	#elseif {"${hb_owner}" == "wang"} {
		#if {"%1" == "¼ÎĞËÇ®×¯"} {
			#return -1;
		};
		#elseif {"%1" == "Îäµ±¾£Î÷ïÚ¾Ö"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return -1;
			};
		};
		#elseif {"%1" == "ÑÀÉ½Ğ¡»ÄµØ"} {
			#return 5;
		};
		#elseif {"%1" == "ÄÏ²ı·É»¢ïÚ¾Ö"} {
			#return 4;
		};
		#elseif {"%1" == "ÈªÖİµ±ÆÌ"} {
			#return 5;
		};
		#elseif {"%1" == "ÔÀÑô³µÂíĞĞ"} {
			#return 6;
		};
		#elseif {"%1" == "ÏåÑôµ±ÆÌ"} {
			#if {"${xy_info}" == "on"} {
				#return -1;
			};
			#else {
				#return -1;
			};
		};
		#else {
			#return -1;
		};
	};
	#else {
		show_to_info unknown hb_owenr;
		#return -1;
	};
};

#alias {hb.stop} {
	#var hb_auto 0;
	#var max_dz 180;
	#class hb.auto.inner kill;
	#undelay {hb_auto_delay};
	dz.cancel;
};

#alias {hb.merge_path} {
	@stackcreate{tmp};
	@stackpush{tmp;#cr};

	#math hb_path_index ${hb_path_index}+1;
	#while {${hb_path_index} <= ${hb_path_size}} {
		#list hb_path get ${hb_path_index} v;
		#list tmp_path get ${tmp_index} tmp_top;
		#if {"@opposite{${v}}" == "@stacktop{tmp}"} {
			#var nil @stackpop{tmp};
		};
		#else {
			@stackpush{tmp;${v}};
		};
		#math hb_path_index ${hb_path_index}+1;
	}
	#var hb_path @stacktolist{tmp};
	#var hb_path_index 1;
	#list hb_path size hb_path_size;
};

#alias {hb.recover} {
	#action {chaos ok: %*} {
		#if {"%%1" != "fake"} {
			#list hb_path set ${hb_path_index} {gan che to %%1};
			#math hb_path_index ${hb_path_index}-1;
		};
		#nop chaos.remember;
		#delay {hb_delay} {
			hb.resume;
		} {10};
	};

	#action {chaos error} {
		show_to_info ÂÒÈë;
		notify.alert escort chaos;
		xmpp.notify ÂÒÈë;
	};
	
	chaos.find;
};

#alias {hb.guohe} {
	#action {^%*½Ó¹ıÄãµİ¸øµÄ´¬×Ê} {
		#class guohe.inner open;
		#ticker {sw/yell_boat} {
			yell boat;
		} {5};
		#action {ÕıµÈ×ÅÄãÄØ£¬ÉÏÀ´°É¡£} {
			genter;
		};
		#action {ô¹¹«½«Ò»¿éÌ¤½Å°å´îÉÏµÌ°¶£¬} {
			genter;
		};
		#alias {shangchuan} {
			#unticker {sw/yell_boat};
			#unticker {hb_walk};
			#action {ËùÓĞÈË±»¸ÏÏÂÁË¶É´¬} {
				#unaction {ËùÓĞÈË±»¸ÏÏÂÁË¶É´¬};
				#class guohe.inner kill;
				hb.resume;
			};
		};
		#action {^»ÆºÓ¶É´¬$} {
			shangchuan;
		};
		#action {^³¤½­¶É´¬$} {
			shangchuan;
		};
		#class guohe.inner close;
	};
	#var hb_paused 1;
	ask shao gong about %1;		
};

#alias {clear_npc} {
	#var npc_zh %1;
	#class clear_npc.inner open;
	#action {ÄãÏëÉ±Ë­} {
		#var hb_force_wait 0;
	};
	#action {${npc_zh}ËÀÁË} {
		#var hb_force_wait 0;
	} {1};

	#action {Äã»¹ÊÇÏÈ°Ñ¶ÔÊÖ½â¾öÁËÔÙËµ°É} {
		l;
	} {1};
	
	#action {${npc_zh}(%*)} {
		#action {¿´ÆğÀ´${npc_zh}ÏëÉ±ËÀÄã} {
			#var hb_force_wait 1;
		} {1};
		#var npc_en @lower{%%1};
		killall ${npc_en};
    } {1};
	#class clear_npc.inner close;
};

#alias {mx.o} {
	xian mixin;
};

#alias {mx.re} {
	hb.get_owner;
	give mixin to ${hb_owner};
	mx.o;
};

#alias {mx.q} {
	#class mx.inner open;	
	#action {Ò»¸ö»ï¼ÆÍÚ×Å±ÇÊº×ßÁË³öÀ´£¬µÀ£ºÄãÕÒÎÒÉ¶ÊÂ} {
		l;
	};
	#action {²ÆÎïµÄ»ï¼Æ %S(%S)} {
		#format {tmp_huoji} {%l} {%%2};
		#class mx.yao.inner open;
		#action {°ÑÒ»°ü²ÆÎïÔÒÏòÄã£¬Ò»×ªÑÛ²»¼ûÁË¡£} {
			@setenv{hb_state;GOT_CAIWU};
			show_to_tuiche ÄÃµ½²Æ±¦;
			play get_item.wav;
			#class mx.yao.inner kill;
			#class mx.inner kill;
			back;
		};
		#action {ÕâÀïÃ»ÓĞÕâ¸öÈË} {
			#class mx.yao.inner kill;	
		};
		#ticker {yao} {
			ask $tmp_huoji about yao;
		} {0.5};
		#class mx.yao.inner close;
	} {1};
	#class mx.inner close;
	zhao;
};

#alias {mx.d} {
	hb.get_owner;
	give cai wu to ${hb_owner};
	#class mx.inner kill;
};

#alias {hb.p} {
	get.san {
		get.fan {
			get.bao {
				repair;
			};
		};
	};
};

#alias {hb.get_path} {
	#format {tmp} {%.4s} {%1};
	#if {"${hb_owner}" == "zhang"} {
		#if {"${tmp}" == "È«Õæ"} {
			#list hb_path create {
				gs;gw;gw;gs;gsw;gw;gw;gnw;gn;gn;gnd;gnu;gne;gn;gn;gn;gn;gn;gnw;gnw;gw;gnw;gnw;gn;gnw;gnu;gnu;gn;gnu;gn;gn;
				gn;gn;gn;gn;gn;gn;gn;gs;gw;gs;gs;gw;gn;gn;gn;gs;gw;gn;gn;gs;gs;gs;gs;gs;gn;gn;gn;ge;ge;ge;ge;gn;gs;gs;gs;gn;gn;ge;gn;gs;gs;gs;gs;gw;ge;gn;gn;gn;
				ge;gn;gn;gs;gs;gs;gn;gw;gw;gw;gs;gs;gn;gw;ge;gs;gs;gw;ge;ge;gw;gs;gw;ge;gs;gs;
			};
		};
		#elseif {"${tmp}" == "Çú¸·"} {
			#list hb_path create {
				gs;ge;ge;ge;ge;ge;ge;ge;ge;ge;
				ge;ge;ge;ge;ge;ge;ge;gse;ge;ge;ge;ge;ge;ge;ge;ge;gse;ge;ge;ge;ge;gn;gn;gn;gn;gn;gn;gn;gn;gn;gw;
				genter;gout;gs;gw;gn;gn;gw;gw;ge;ge;gn;ge;ge;gn;gn;gs;gs;gs;ge;gn;gs;gw;gs;ge;gne;geu;genter;gout;gwd;gsw;gw;gw;
			};
		};
		#elseif {"${tmp}" == "ÂåÑô"} {
			#list hb_path create {
				gs;gw;gw;gs;gsw;gw;gw;gnw;gn;gn;gnd;gnu;gne;gn;gn;gn;gn;gn;ge;ge;ge;ge;ge;gse;gsu;geu;gsu;geu;gsu;gsu;gn;gnd;gnd;gnd;gnd;gn;gn;gse;
				ge;ge;ge;ge;ge;ged;ge;ge;ge
			};
		};
		#elseif {"${tmp}" == "ÑïÖİ"} {
			#list hb_path create {
				gs;ge;ge;ge;ge;ge;ge;ge;ge;ge;
				ge;ge;ge;ge;ge;ge;ge;gse;ge;ge;ge;ge;ge;ge;ge;ge;gse;ge;ge;ge;ge;gd;gu;
				gn;gse;ge;gw;gnw;gn;ge;gu;gu;gd;ge;gw;gw;ge;gd;gw;gw;ge;gn;ge;gw;gn;gnw;gnw;gse;gse;
				gn;gn;gs;gs;gs;gs;gs;gw;gs;gn;ge;ge;gw;gs;ge;gn;gs;gs;gn;ge;gn;gn;gs;gs;gs;gs;gn;gn;ge;gw;gw;gw;gs;gw;ge;ge;gs;gn;gw;gs;gw;gw;ge;ge;ge;gw;gs;gw;ge;ge;gw;gs;gn;gn;gn;gn;
			};
		};
		#elseif {"${tmp}" == "ÉÙÁÖ"} {
			#list hb_path create {
				gs;ge;ge;ge;ge;ge;ge;ge;ge;ge;
				ge;ge;ge;ge;ge;ge;ge;gse;ge;ge;ge;gn;gn;gn;gn;gn;gn;gnw;gnw;gw;gnu;gnu;gwu;gnu;geu;
				gwd;gsd;gwd;gwd;gwu;gw;gnw;gn;gs;gse;ge;ged;geu;geu;gnu;gnu;gnu;ge;
			};
		};
		#elseif {"${tmp}" == "Îäµ±"} {
			#list hb_path create {
				gs;gw;gw;gs;gsw;gw;gw;gnw;gw;gw;gw;gwu;gnu;gnu;gnu;gw;gnu;gnu;geu;geu;gnu;gnu;
				gn;kill song;gw;gw;ge;ge;ge;ge;gw;gw;gn;gw;gw;ge;ge;ge;ge;gw;gw;gn;gw;gw;ge;ge;ge;
				gw;gn;gw;ge;ge;ge;gs;gn;gw;gw;gn;gs;gs;gs;gs;gs;gw;gn;ge;gs;gs;gw;gn;ge;ged;ge;ge;ged;gsd;ged;gsd;ged;gwu;gnu;gwu;gnu;gwu;gw;gw;gwu;
			};
		};
		#elseif {"${tmp}" == "ÏåÑô"} {
			#list hb_path create {
				gs;ge;ge;ge;ge;ge;gn;gn;gs;gs;ge;ge;ge;ge;gn;gs;gs;gn;ge;gn;gs;gs;gn;ge;gn;gn;gw;gn;gs;ge;ge;gw;gn;
				gw;ge;ge;ge;gw;gw;gs;gs;gs;gs;gw;ge;ge;gw;gs;gw;ge;gs;gw;ge;ge;gw;gs;gn;gn;gn;gn;ge;gn;gs;ge;gn;gn;gs;gs;ge;gs;gn;gw;gw;gse;gs;gn;gnw;gw;gw;gw;gn;
			};
		};
		#elseif {"${tmp}" == "³¤°²"} {
			#list hb_path create {
				gs;gw;gw;gs;gsw;gw;gw;gnw;gn;gn;gnd;gnu;gne;gn;gn;gn;gn;gn;ge;ge;ge;ge;ge;gse;gsu;geu;gsu;geu;gsu;gsu;gn;gnd;gnd;gnd;gnd;gn;gn;
				gw;gw;gw;gw;gs;gs;gw;gw;gw;gw;gw;gs;
				gn;gw;gw;ge;ge;gn;gs;ge;gn;gs;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;ge;gs;gw;ge;ge;ge;gw;gw;gs;gs;gn;gn;gn;gn;ge;ge;gw;gw;gn;
				gw;gs;gw;ge;gn;gn;gn;gw;gw;ge;ge;ge;gw;gs;gs;ge;gn;gn;
			};
		};
		#elseif {"${tmp}" == "»ªÉ½"} {
			#format {tmp} {%.6s} {%1};
			#if {"${tmp}" == "»ªÉ½´å"} {
				#list hb_path create  {
					gs;gw;gw;gs;gsw;gw;gw;gnw;gn;gn;gnd;gnu;gne;gn;gn;ge;gw;gn;ge;gw;gw;gnw;gse;ge;gn;ge;ge;gw;gw;gn;
					gnw;gnw;gne;gsw;gw;ge;gse;gsw;gne;gse;ge;gn;gs;gs;ge;gw;gn;ge;gn;gs;ge;gs;gn;ge;ge;gn;gs;gw;gw;gw;gw;gw;
				};
			};
			#else {
				#var tmp »ªÉ½;
				#list hb_path create {
					gs;gw;gw;gs;gsw;gw;gw;gnw;gn;gn;gnd;gnu;gne;gn;gn;gn;gn;gn;ge;ge;ge;ge;ge;gse;gsu;geu;gsu;geu;gnu;
					gsd;gsu;gsu;gwu;ged;gsd;geu;gwd;gsu;gs;gn;ge;gw;gnd;gwu;gu;gd;ged;geu;gwd;gsu;ge;gsd;gsd;gsd;gnu;gnu;gnu;gw;gnd;gnu;gn;gs;
				};
			};
		};
	};
	#elseif {"${hb_owner}" == "zuo"} {
		#if {"${tmp}" == "ÑïÖİ"} {
			#list hb_path create {
				gs;gs;gnw;gn;gn;gn;gn;gn;gnw;gn;gne;gne;gn;gne;gne;gnw;gnw;gw;hb.guohe {jiang};gw;gnd;gnw;gnd;gn;gn;gn;gn;gd;gu;
				gn;gse;ge;gw;gnw;gn;ge;gu;gu;gd;ge;gw;gw;ge;gd;gw;gw;ge;gn;ge;gw;gn;gnw;gnw;gse;gse;gn;gn;gs;gs;gs;gs;gs;gw;gs;
				gn;ge;ge;gw;gs;ge;gn;gs;gs;gn;ge;gn;gn;gs;gs;gs;gs;gn;gn;ge;gw;gw;gw;gs;gw;ge;ge;gs;gn;gw;gs;gw;gw;ge;ge;ge;gw;gs;gw;ge;ge;gw;gs;gn;gn;gn;gn;
			};
		};
		#elseif {"${tmp}" == "ËÕÖİ"} {
			#list hb_path create {
				gs;gs;gsw;gs;gw;ge;gsw;gne;gs;gw;gw;gw;gsw;gne;ge;ge;ge;gs;gs;gn;gn;ge;gw;gn;ge;ge;gse;ge;gs;gn;
				gw;gnw;gw;gne;gsw;gw;gn;gnw;gs;gn;gn;gs;gnw;gse;gw;gw;gw;gw;ge;ge;ge;gn;gs;gs;gn;ge;gne;gn;gsw;gn;ge;gn;gw;
				ge;ge;gw;gn;gn;gsw;gne;gs;gs;gs;gs;gs;gne;gs;gn;ge;gn;gs;gs;gn;ge;ge;ge;gw;gw;gw;gw;gsw;
			};
		};
		#elseif {"${tmp}" == "ÑÀÉ½"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;ge;gse;gne;ge;gne;gne;ge;ge;ge;ge;ge;ge;ge;gn;gw;ge;gs;gw;gw;gs;gn;ge;gs;
				gn;gn;gs;ge;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gn;gn;gn;ge;gn;gs;ge;gn;gs;ge;gw;gw;gw;gn;gw;ge;ge;gw;gn;gs;gs;
			};
		};
		#elseif {"${tmp}" == "ÈªÖİ"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;gs;gs;ge;gw;gs;gs;gs;ge;gn;gs;gne;gne;gne;gn;gw;ge;gn;gs;gs;gsw;
				gsw;gsw;ged;gn;gs;gs;gn;gwu;gs;gn;gw;gs;gs;ge;gw;gn;gn;gw;gn;gs;gs;gn;gn;gs;gs;gn;ge;ge
			};
		};
		#elseif {"${tmp}" == "¼ÎĞË"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;gw;gnu;gnw;gse;gsd;ge;gs;ge;gs;gn;gw;gs;ge;gw;gs;gn;gse;gnw;gsw;
				gne;gn;gsw;gne;gn;ge;gn;gs;gnd;gw;ge;ge;ge;ge;gw;gw;gw;gsu;ge;gw;gse;gs;gn;gne;ge;gw;gsw;gnw;gw;
			};
		};
		#elseif {"${tmp}" == "ÔÀÍõ"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;
				gs;gs;ge;gn;ge;gne;gn;gn;gnw;gne;gsw;gse;gs;gs;gsw;gs;gn;gw;gn;gs;gs;gn;ge;gne;ge;ge;gw;gw;gn;
			};
		};
		#elseif {"${tmp}" == "¸£Öİ"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;
				gs;gs;gse;gse;gsd;gs;gs;gs;ge;gn;gn;gs;gs;ge;gw;gs;gn;gw;gs;gw;ge;gs;gn;gn;gw;gn;gs;gw;gw;gsw;gne;ge;ge;ge;gn;gw;ge;ge;gw;gs;ge;gn;
			};
		};
		#elseif {"${tmp}" == "Õò½­"} {
			#list hb_path create {
				gs;gs;gsw;gn;gn;gn;gn;gn;gn;gnw;gn;gne;gne;gnw;gn;gn;gn;gn;gnw;gw;gw;gw;gw;gn;ge;gw;gn;ge;gw;gn;gnu;gsd;gw;
				ge;ge;gw;gs;gs;gs;gw;gs;gn;gw;gn;gs;gs;gn;gw;ge;ge;ge;ge;gs;gn;gw;gs;gw;ge;ge;gw;gs;gn;gn;gn;ge;
			};
		};
		#elseif {"${tmp}" == "¹éÔÆ"} {
			#list hb_path create {
				gs;gs;gsw;gnw;gw;gw;gw;gw;gw;gw;gnw;gne;gse;gn;gw;gn;ge;ge;ge;ge;ge;gnu;gnu;gsd;gsd;ge;gn;gs;gs;gn;ge;ge;ge;gw;gw;gn;gs;gs;gn;gn;gu;gd;gs;gw;gw;gs;gn;
			};
		};
		#elseif {"${tmp}" == "º¼Öİ"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;gs;gs;gsw;gw;gsw;gw;gw;gw;gw;gw;gw;gn;genter;gn;gw;ge;ge;gw;gn;gs;
				gs;gout;gs;gw;gn;gs;gw;gn;gw;ge;ge;gw;gn;gs;gs;gw;gn;gs;gs;gn;gw;ge;ge;gse;gw;ge;gs;gn;gnw;ge;ge;gs;genter;gw;ge;ge;gw;gsw;gu;gd;gne;gs;gs;gn;gn;gse;gnw;gout;gn;gw;gw;
			};
		};
		#elseif {"${tmp}" == "½­Öİ"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;gs;gs;gs;
				gnw;gn;gnw;gn;gn;gn;gn;gn;gn;gn;gnw;gnd;gn;gn;gn;gn;ge;ge;gw;gw;gn;gn;gw;genter;gw;ge;ge;gw;gout;ge;
				gn;gs;ge;gs;gn;gne;gnw;gw;ge;gse;gse;gnw;gne;gsw;ge;gw;gsw;gsw;gsw;gsw;gn;gs;gs;gn;gsw;gn;gs;gs;gn;gsw;gw;ge;gne;gne;gne;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gn;ge;ge;
			};
		};
		#elseif {"${tmp}" == "ÄÏ²ı"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;gs;gs;gs;
				gnw;gn;gnw;gn;gn;gn;gn;gn;ge;
				gw;gw;ge;gn;gn;gnw;gse;gs;gs;gs;gw;gn;gs;gs;gn;gw;gw;ge;ge;ge;gs;gw;ge;ge;gw;gs;gs;gs;gn;gn;gn;gn;ge;gs;gn;gn;
			};
		};
		#elseif {"${tmp}" == "ÔÀÑô"} {
			#list hb_path create {
				gs;gs;gsw;gs;gs;gs;gs;gs;gs;gs;gs;  gnw;gn;gnw;gn;gn;gn;gn;gn;gn;gn;gnw;gnd;gn;gn;gn;gn;gn;
				gsw;gsw;gsw;gw;gwu;gnw;gwu;gw;gw;gw;
				gn;gn;gn;gs;gs;ge;gw;gs;ge;gn;gs;gs;gn;ge;ge;gw;gw;gw;gw;gn;gs;gs;gn;gw;gw;gu;gd;gs;gn;ge;ge;ge;gs;gw;ge;ge;gw;gs;gs;gn;gn;
			};
		};
	};
	#elseif {"${hb_owner}" == "ma"} {
		#if {"${tmp}" == "»ªÉ½"} {
			#format {tmp} {%.6s} {%1};
			#if {"${tmp}" == "»ªÉ½´å"} {
				#list hb_path create  {
					gn;ge;ge;ge;ge;ge;ge;ge;ge;ge;gs;gsu;gsu;gsu;gsu;gs;gnd;gnd;gwd;gnd;gwd;gnd;gnw;gne;gsw;gn;gs;gw;gw;gs;gn;gw;gn;gs;gw;gs;ge;gw;gn;gn;gs;gw;
					gnw;gnw;gne;gsw;gw;gn;gs;gnw;gnw;gse;gse;ge;gse;gsw;gne;gse;gs;ge;ge;gw;gw;gs;gw;gnw;gse;ge;ge;gw;gs;ge;gw;gs;gs;gse;gnw;gsw;gne;gn;gn;gn;gn;gn;
				};
			};
			#else {
				#var tmp »ªÉ½;
				#list hb_path create  {
					gn;ge;ge;ge;ge;ge;ge;ge;ge;ge;gs;gsu;gsu;gsu;gsu;gs;gwu;ged;gsd;gwu;gu;gd;ged;geu;gwd;gsu;ge;gw;
					gs;gn;gnd;gnu;gnd;gnd;gnu;gsd;gwd;gnd;gwd;gnd;gnw;gne;gsw;gn;gs;gw;gw;ge;ge;gse;gsu;geu;gsu;geu;gsu;gsu;
				};
			};
		};
		#elseif {"${tmp}" == "ÔÀÑô"} {
	     	#list hb_path create {
				gn;ge;ge;ge;ge;ge;ge;ge;ge;ge;gn;gse;ge;ge;ge;ge;ge;ged;ge;ge;ge;gs;gs;gs;gs;gs;gs;gs;gsw;
				gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gs;gse;gs;gw;hb.guohe {jiang};ge;ge;gs;gs;gs;gs;
	     	};
	    };
	    #elseif {"${tmp}" == "½úÑô"} {
	     	#list hb_path create {
	     		gn;ge;ge;gn;gn;gw;gw;gw;gw;gn;gn;gn;ge;gne;gne;ge;gn;gne;gse;ge;hb.guohe {huanghe};gn;gne;gne;gne;ge;gn;gn;gw;
	     		ge;gn;gn;ge;gn;gn;gs;gs;ge;gsw;gsw;gw;ge;ge;gne;ge;ge;gs;gs;gw;gw;gw;gsw;gs;gw;gw;ge;ge;gs;gs;ge;gw;gs;gn;ge;ge;ge;
	     		gw;gn;gs;gne;gn;gn;gw;gw;gw;gs;gn;gne;gsw;ge;gne;gsw;ge;gne;ge;gs;gs;gn;gn;ge;ge;gw;gw;gw;gw;gw;gw;gsw;
	     		gs;gs;gw;gn;gn;gn;ge;ge;ge;ge;ge;ge;gsw;gsw;gsw;gsw;gsw;gs;gw;gw;gw;gw;gw;gnw;gn;gn;gn;ge;gn;gn;gw;
	     	};
	    };
	    #elseif {"${tmp}" == "³É¶¼"} {
	     	#list hb_path create {
	     		gn;gw;gw;gw;gsw;gsu;gsd;gse;gsu; gsw; gse; gsu; gsd;gs;gs;gs;gs;
	     		se;gn;gs;gw;ge;gse;gn;gs;ge;ge;gw;gw;gnw;gnw;gn;gw;ge;ge;gw;gn;gw;ge;ge;gw;gn;gn;gs;gs;gs;gs;gnw;
	     		gn;gs;gnw;gn;gs;gs;gn;gw;gw;ge;ge;gse;gse;gs;gs;gw;gnw;gse;ge;ge;gw;gs;gw;ge;gs;gsu;gnd;gn;gn;gn;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "ÁéÖİ"} {
	     	#list hb_path create {
	     		gn;gw;gw;gw;gnu;gne;gnw;gnw;gnu;gn;gw;gw;gw;gw;gw;gn;gn;
	     		gs;gs;gs;gw;gw;ge;ge;ge;ge;gw;gw;gs;gs;gs;gs;gn;gn;gn;gn;gn;gw;gn;gs;gs;gn;gw;gn;gs;gs;gn;gw;ge;gnw;gnw;gse;gse;ge;ge;ge;gn;gs;gs;gn;ge;ge;ge;ge;gw;gw;gw;gw;gw;gn;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "ÔŞÆÕ"} {
	     	#list hb_path create {
	     		gn;gw;gw;gw;gsw;gsu;gsd;gse;gsu; gsw; gse; gsu; gsd;gs;gs;gs;gs;gnw;gnw;gw;gw;gwu;gwu;gwu;gnw;gnw;gw;gn;gn;gn;
	     		gn;gw;ge;gn;gn;gs;gs;ge;gw;gs;gw;gw;gw;ge;gn;gs;ge;ge;ge;gw;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gn;gn;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "ÏåÑô"} {
	     	#list hb_path create {
	     		gn;ge;ge;ge;ge;ge;gn;gn;ge;ge;ge;ge;gse;ge;ge;ge;ge;ge;ged;ge;ge;ge;gs;gs;gs;gs;gs;gs;gs;gsw;gs;
	     		gs;gs;gw;ge;ge;ge;gw;gw;gs;gw;ge;ge;gw;gs;ge;gw;gs;gw;gn;gs;gs;gn;gw;gn;gs;gs;gs;gn;gn;gw;gw;gw;gw;gn;gn;gs;gs;gw;gw;gw;gw;
	     		ge;ge;ge;ge;ge;ge;ge;ge;ge;ge;gs;gw;ge;ge;gw;gs;gw;ge;gs;gw;ge;ge;gw;gs;gs;gn;gn;gn;gn;gn;ge;gn;gs;ge;gn;gn;gw;ge;gs;gs;gsw;
	     		gs;gw;ge;ge;gw;gn;gne;ge;gs;gn;ge;ge;gse;gnw;ge;gw;gw;gw;gw;gw;gw;gw;gw;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "Îäµ±"} {
	     	#list hb_path create {
	     		gn;ge;ge;ge;ge;ge;gn;gn;ge;ge;ge;ge;gse;ge;ge;ge;ge;ge;ged;ge;ge;ge;gs;gs;gs;gs;gs;gs;gs;gsw;gs;gs;gs;gs;gs;gs;gw;gw;gw;
	     		gw;gw;gw;gn;gn;gs;gs;gw;gw;gw;gw;gw;gn;gs;gw;gw;gs;gsw;gw;gw;gnw;gn;gs;gw;ge;gse;ge;ge;gne;gn;ge;ge;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "È«Õæ"} {
	     	#list hb_path create {
	     		gn;ge;ge;ge;gs;gs;gs;gs;gs;gs;gse;gsu;gsw;gsw;gw;gs;gs;gs;gwu;geu;gsu;gs;gs;
	     		gw;gw;gw;gs;gw;gs;gs;gs;gs;gs;gs;ge;ge;gs;gn;ge;ge;gn;ge;gs;gn;ge;gn;gn;gn;ge;gs;gn;gn;gn;gw;gn;gw;gn;gn;gs;gs;gw;gw;gs;gs;gs;gw;gn;gs;gw;
	     		gn;gs;gs;gs;ge;gn;gs;ge;gn;gs;gs;gw;ge;gn;ge;gn;gn;gn;gs;ge;gn;gs;gw;gw;gs;gs;gs;gs;gs;gs;gw;gw;gw;gs;gn;gw;gs;gn;ge;ge;ge;ge;ge;
	     		ge;ge;gw;gn;gs;gw;gn;gs;gw;gs;gw;ge;ge;gw;gs;ge;gw;gsd;gs;gn;gnu;gn;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "ÂåÑô"} {
	     	#list hb_path create {
	     		n;e;e;e;e;e;n;n;e;e;e;se;e;e;e;e;e;ed;e;e;e;
	     	};
	    };
	    #elseif {"${tmp}" == "³¤°²"} {
	     	#list hb_path create {
	     		gn;ge;ge;ge;ge;ge;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gse;ge;gw;gnw;gw;gs;gw;ge;gs;gs;gs;gn;
	     		gn;gn;gn;gn;ge;ge;gw;gw;gn;ge;gn;gs;gs;gn;ge;ge;ge;ge;gw;gw;gn;gs;gw;gn;ge;gw;gn;ge;ge;ge;gw;gw;gn;gs;gs;gn;gw;gn;gn;gs;gs;gw;ge;gs;gs;gw;gw;gn;gs;gw;gn;gn;ge;gw;
	     		gw;gw;gw;gw;ge;ge;ge;ge;gs;gs;gw;gn;gs;gw;gn;gs;gw;gw;ge;ge;ge;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;ge;gn;gn;gw;gs;gw;ge;gn;gw;gw;gs
	     	};
	    };
	};
	#elseif {"${hb_owner}" == "chu"} {
	    #if {"${tmp}" == "Çú¸·"} {
	     	#list hb_path create {
	     		gw;gn;gn;gnw;gnd;gn;gn;gn;gn;gn;gne;gne;gne;gne;gn;gnw;gnw;hb.guohe {jiang};
	     		gn;gnw;gnu;gn;gn;gn;ge;ge;ge;ge;ge;gse;ge;ge;ge;ge;gn;gn;gn;gn;gn;gn;gn;gn;gw;gn;
	     	};
	    };
	    #elseif {"${tmp}" == "Îäµ±"} {
	     	#list hb_path create {
	     		gw;gn;gn;gnw;gnd;gn;gn;gn;gn;gn;gne;gne;gne;gne;gn;gnw;gnw;hb.guohe {jiang};
	     		gn;gnw;gnu;gn;gn;gn;gw;gw;gw;gnw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gn
	     	};
	    };
	    #elseif {"${tmp}" == "½úÑô"} {
	     	#list hb_path create {
	     		gw;gn;gn;gnw;gnd;gn;gn;gn;gn;gn;gne;gne;gne;gne;gn;gnw;gnw;hb.guohe {jiang};gn;gnw;gnu;gn;gn;gn;gn;
	     		gn;gn;gn;gn;gn;gsw;gsw;gn;gn;gn;gn;gn;gn;gn;
	     		gn;gn;gn;gnu;gnd;gn;gn;gnu;hb.guohe {huanghe};gn;gne;gne;gne;ge;gn;gn;gw;
	     		
	     	};
	    };
	    #elseif {"${tmp}" == "»ªÉ½"} {
	     	#format {tmp} {%.6s} {%1};
	     	#if {"${tmp}" == "»ªÉ½´å"} {
	     		#list hb_path create  {
	     			gw;gn;gn;gnw;gnd;gn;gn;gn;gn;gn;gne;gne;gne;gne;gn;gnw;gnw;hb.guohe {jiang};
	     			gn;gnw;gnu;gn;gn;gn;gn;gn;gn;gn;gn;gn;gsw;gsw;gnw;gn;gn;gn;gn;gn;
	     		};
	     	};
	     	#else {
	     		#var tmp »ªÉ½;
	     		#list hb_path create {
	     			
	     		};
	     	};
	    };
	};
	#elseif {"${hb_owner}" == "wang"} {
	    #if {"${tmp}" == "ÄÏ²ı"} {
	     	#list hb_path create  {
				gn;gsw;gs;gs;gs;gs;gs;gsu;gse;gs;gs;gs;ge;gn;
				gs;ge;ge;geu;geu;gwd;gwd;gw;gw;gs;gn;gw;gw;gn;gs;gs;gn;gw;gw;gwu;gwu;gnu;genter;gw;ge;ge;gw;gn;gs;gout;gsd;
				gwu;gnd;gsu;ged;ged;ged;ge;ge;ge;gs;gw;ge;ge;gw;gs;gs;gs;gse;gs;gse;gnw;gn;gnw;gn;gn;gn;ge;gw;gn;gn;gw;ge;ge;gw;gn;gs;gs;ge;gn;
			};
		};
		#elseif {"${tmp}" == "ÑÀÉ½"} {
	     	#list hb_path create  {
				gn;gne;gne;ge;ge;gne;geu;ged;ged;gse;gse;gse;gse;gs;gs;gs;gse;ge;ge;ge;ge;gn;gn;
				ge;ge;ge;gs;gse;gse;ge;gse;gs;gse;gse;gsd;ge;ge;gse;gne;ge;gne;gne;ge;ge;ge;ge;ge;ge;ge;
				gn;gw;ge;ge;gw;gn;gs;gs;ge;gn;gs;ge;gn;gs;ge;gw;gw;gw;gs;gw;ge;ge;gw;gs;gw;ge;ge;gw;gs;gn;gn;gn;gw;gn;gs;gs;gn;gw;gs;gn;ge;ge;
			};
		};
		#elseif {"${tmp}" == "ÈªÖİ"} {
	     	#list hb_path create  {
				gn;gsw;gs;gs;gs;gs;gs;gsu;gse;gs;gs;gs;gs;gs;gs;gs;gse;gs;gse;gs;gs;ge;
				gn;gs;gne;gne;gne;gn;gs;gsw;gsw;gsw;gs;gn;ged;gn;gs;gs;gn;gwu;gw;gn;gs;gs;gs;ge;gw;gn;gn;gw;gn;gs;gs;gn;gnw;gw;ge;gse;ge;ge;
			};
		};
		#elseif {"${tmp}" == "¼ÎĞË"} {
	     	#list hb_path create  {
				gn;gne;gne;ge;ge;gne;geu;ged;ged;gse;gse;gse;gse;gs;gs;gs;gse;ge;ge;ge;ge;gn;gn;ge;ge;ge;gs;gse;gse;ge;gse;gs;gse;gse;gsd;ge;
			};
		};
		#elseif {"${tmp}" == "ÔÀÑô"} {
	     	#list hb_path create  {
				gn;gsw;gsw;gsw;gsw;gw;gwu;gnw;gwu;gw;gw;gw;
				gn;gn;gn;gs;gs;ge;gw;gs;ge;gn;gs;gs;gn;ge;ge;gw;gw;gw;gw;gn;gs;gs;gn;gw;gw;gu;gd;gs;gn;ge;ge;ge;gs;gw;ge;ge;gw;gs;gs;gn;gn;
			};
		};
		#elseif {"${tmp}" == "ÏåÑô"} {
	     	#list hb_path create  {
				gn;gne;gne;gne;gn;gnw;gnw;hb.guohe {jiang};gn;gnw;gnu;gn;gn;gn;gw;gw;gw;gnw;gw;gw;gw;gw;gw;gw;gw;gn;
			};
		};
		#elseif {"${tmp}" == "Îäµ±"} {
	     	#list hb_path create  {
				gn;gne;gne;gne;gn;gnw;gnw;hb.guohe {jiang};gn;gnw;gnu;gn;gn;gn;gw;gw;gw;gnw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gw;gn;
			};
		};
	};
	#list hb_path size hb_path_size;
	#var hb_path_index 0;
};

#action {Äã¸ø%*Ò»Ğ©Ê§×ÙµÄ²ÆÎï} {
	@setenv{hb_state;NIL};
	@setenv{mixin_lunci;5};
	#delay {hb_auto_delay} {
		#if {${hb_auto} == 1} {
			hb.start;
		};
	} {3};
};

#alias {show_to_tuiche} {
	show_to_quest ÍÆ³µ: @getenv{hb_lunci_total}+@getenv{hb_lunci}: %0;
};

@mapcreate{robber_score};
@mapset{robber_score;quanzhen;1};
@mapset{robber_score;shaolin;1};
@mapset{robber_score;gaibang;7};
@mapset{robber_score;xingxiu;2};
@mapset{robber_score;huashan;2};
@mapset{robber_score;taohua;6};
@mapset{robber_score;wudang;8};

#alias {got_robber} {
	#math robber_count ${robber_count}+1;
	#var tmp_score @mapget{robber_score;%1};
	#if {${tmp_score} > ${robber_score}} {
		#var enemy ${char_id}'s robber ${robber_count};
	};
};

#alias {hb.detect_enemy} {
	#class detect_enemy.inner open;
	#action {~[1;31m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber quanzhen;
	};
	#action {~[1;32m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber shaolin;
	};
	#action {~[1;33m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber gaibang;
	};
	#action {~[1;34m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber xingxiu;
	};
	#action {~[1;35m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber huashan;
	};
	#action {~[1;36m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber taohua;
	};
	#action {~[1;37m½Ù·Ë[2;37;0m(@capital{${char_id}}'s robber)} {
		got_robber wudang;		
	};
	#action {·ç¾°ÒªÂıÂıµÄ¿´} {
		#delay {0.5} {
			l;
		};
	};
	#action {^>} {
		#class detect_enemy.inner kill;
	};
	#class detect_enemy.inner close;
	#var enemy NULL;
	#var robber_count 0;
	#var robber_score 0;
	l;
};
#class hubiao close
